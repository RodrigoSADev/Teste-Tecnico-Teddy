<section class="container">
  <app-header [username]="username"> </app-header>

  <main class="main-content">
    <div class="clients-header">
      <h2>{{ clients().length }} clientes encontrados:</h2>
      <div class="pagination-info">
        Clientes por página:
        <select [(ngModel)]="clientsPerPage" class="page-select">
          <option value="16">16</option>
          <option value="32">32</option>
          <option value="48">48</option>
        </select>
      </div>
    </div>

    <div class="clients-grid">
      @for (client of clients(); track client.id) {
      <div class="client-card">
        <div class="client-info">
          <h3>{{ client.name }}</h3>
          <p>
            Salário:
            {{ client.salary | currency : "BRL" : "symbol" : "1.2-2" }}
          </p>
          <p>
            Empresas:
            {{
              client.companyValuation | currency : "BRL" : "symbol" : "1.2-2"
            }}
          </p>
        </div>
        <div class="client-actions">
          <button class="btn-action btn-add" (click)="onSelectClient(client)">
            +
          </button>
          <button
            class="btn-action btn-edit"
            (click)="editarCliente(client)"
          ></button>
          <button
            class="btn-action btn-delete"
            (click)="excluirCliente(client)"
          >
            -
          </button>
        </div>
      </div>
      }
    </div>

    <button class="btn-criar-cliente" (click)="criarCliente()">
      Criar cliente
    </button>

    <app-pagination
      [currentPage]="currentPage()"
      [totalItems]="totalPages() * clientsPerPage()"
      [itemsPerPage]="clientsPerPage()"
      (pageChange)="onPageChange($event)"
    >
    </app-pagination>

    <app-modal
      #clientModal
      [type]="modalType"
      [client]="selectedClient()"
      (save)="onSaveClient($event)"
      (delete)="onDeleteClient($event)"
      (cancel)="onModalCancel()"
    ></app-modal>
  </main>
</section>
